{"version":3,"sources":["webpack:///./src/assets/logo.png","webpack:///./src/App.vue?51d0","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?945b","webpack:///./src/views/Home.vue","webpack:///src/views/Search.vue","webpack:///./src/views/Search.vue?ad40","webpack:///./src/views/Search.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["module","exports","__webpack_require__","p","selectortype_template_index_0_src_App","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","mode","theme","active-name","src","_v","name","to","type","class","router-link-exact-active","searchActive","size","on","click","$event","helpModal","style","padding","margin","_s","currentPage","staticStyle","width","placeholder","on-keyup","indexOf","_k","keyCode","key","goSearch","model","value","callback","$$v","searchKey","expression","slot","min-height","$route","fullPath","on-clear-search-key","clearSearchKey","title","scollable","on-ok","okModal","on-cancel","cancelModal","staticRenderFns","src_App","normalizeComponent","data","mounted","query","methods","$Message","error","$router","push","path","computed","res","includes","ssrContext","Home","carousel","groupList","initData","nodesObj","spinShow","watch","handler","val","oldVal","drawRect","deep","_this","$emit","$axios","then","console","log","forEach","item","index","id","objRect","map","d","hasOwnProperty","group","filter","$nextTick","drawInit","_this2","drawWords","d3","select","remove","svg","append","_self_","attr","length","selectAll","join","i","scale","text","labelsObj","currentItem","currentIndex","colorWords","dataCurrent","sizes","maxSize","Math","max","apply","minSize","min","words","d3_cloud_default","rotate","random","font","fontSize","draw","start","layoutWords","enter","_","x","y","window","open","views_Home","loop","autoplay","autoplay-speed","_l","fix","_e","src_views_Home","Home_normalizeComponent","Search","height","getConnectedWords","info","keyword","get","nodes","drag","simulation","active","alphaTarget","restart","fx","fy","first","links","force","link","node","document","querySelector","innerHTML","stringify_default","call","source","target","rectNodes","currentNodes","_data","_currentNodes","_data2","_links","views_Search","_m","src_views_Search","Search_normalizeComponent","Vue","use","Router","router","linkActiveClass","routes","component","iView","prototype","axios","config","productionTip","civilization","economy","education","military","polity","society","sports","other","8","9","el","components","App","template"],"mappings":"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","file":"static/js/app.ad57ff2034d63dff4d56.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/logo.2c1461d.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/logo.png\n// module id = 7Otq\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout\"},[_c('Layout',[_c('Header',[_c('Menu',{attrs:{\"mode\":\"horizontal\",\"theme\":\"dark\",\"active-name\":\"1\"}},[_c('div',{staticClass:\"layout-logo\"},[_c('img',{attrs:{\"src\":require(\"./assets/logo.png\")}})]),_vm._v(\" \"),_c('div',{staticClass:\"layout-nav\"},[_c('MenuItem',{attrs:{\"name\":\"1\"}},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('Icon',{attrs:{\"type\":\"ios-navigate\"}}),_vm._v(\"首页\")],1)],1),_vm._v(\" \"),_c('MenuItem',{attrs:{\"name\":\"2\"}},[_c('router-link',{class:{'router-link-exact-active': _vm.searchActive},attrs:{\"to\":\"/searchPage\"}},[_c('Icon',{attrs:{\"type\":\"ios-keypad\"}}),_vm._v(\"关键词搜索\")],1)],1),_vm._v(\" \"),_c('MenuItem',{attrs:{\"name\":\"3\"}},[_c('Icon',{staticClass:\"help-btn\",attrs:{\"type\":\"md-help-circle\",\"size\":\"18\"},on:{\"click\":function($event){_vm.helpModal = true}}})],1)],1)])],1),_vm._v(\" \"),_c('Content',{style:({padding: '0 50px'})},[_c('div',{staticClass:\"flex-box\"},[_c('Breadcrumb',{style:({margin: '20px 0'})},[_c('BreadcrumbItem',[_vm._v(\"WORDANCE\")]),_vm._v(\" \"),_c('BreadcrumbItem',[_vm._v(_vm._s(_vm.currentPage))])],1),_vm._v(\" \"),_c('Input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请输入关键词\"},on:{\"on-keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.goSearch($event)}},model:{value:(_vm.searchKey),callback:function ($$v) {_vm.searchKey=$$v},expression:\"searchKey\"}},[_c('Icon',{staticClass:\"search-btn\",attrs:{\"slot\":\"suffix\",\"type\":\"ios-search\"},on:{\"click\":_vm.goSearch},slot:\"suffix\"})],1)],1),_vm._v(\" \"),_c('Card',[_c('div',{staticStyle:{\"min-height\":\"calc(100vh - 230px)\"}},[_c('router-view',{key:_vm.$route.fullPath,on:{\"on-clear-search-key\":_vm.clearSearchKey}})],1)])],1),_vm._v(\" \"),_c('Footer',{staticClass:\"layout-footer-center\"},[_vm._v(\"wordance © more than you know\")])],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"帮助文档\",\"scollable\":true},on:{\"on-ok\":_vm.okModal,\"on-cancel\":_vm.cancelModal},model:{value:(_vm.helpModal),callback:function ($$v) {_vm.helpModal=$$v},expression:\"helpModal\"}},[_c('p',[_vm._v(\"- 首页词云为各类型数据聚合。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"- 点击词云里的词语可进入关键词搜索页。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"- 右上角输入框中可以输入词语进行搜索，也可以进入关键词搜索页，效果和点词云的词语进入的情况一样。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"- 关键词搜索页可以看关键词关联的词形成的力导图，同时可以看选中点对应的详细信息。\")]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"确定\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b2e9632c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b2e9632c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b2e9632c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b2e9632c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"layout\">\n    <Layout>\n      <Header>\n        <Menu mode=\"horizontal\" theme=\"dark\" active-name=\"1\">\n          <div class=\"layout-logo\"><img src=\"./assets/logo.png\"></div>\n          <div class=\"layout-nav\">\n            <MenuItem name=\"1\">\n              <router-link to=\"/\"><Icon type=\"ios-navigate\"></Icon>首页</router-link>\n            </MenuItem>\n            <MenuItem name=\"2\">\n              <router-link to=\"/searchPage\" :class=\"{'router-link-exact-active': searchActive}\"><Icon type=\"ios-keypad\"></Icon>关键词搜索</router-link>\n            </MenuItem>\n            <MenuItem name=\"3\">\n              <Icon type=\"md-help-circle\" size=\"18\" class=\"help-btn\" @click=\"helpModal = true\"></Icon>\n            </MenuItem>\n          </div>\n        </Menu>\n      </Header>\n      <Content :style=\"{padding: '0 50px'}\">\n        <div class=\"flex-box\">\n          <Breadcrumb :style=\"{margin: '20px 0'}\">\n            <BreadcrumbItem>WORDANCE</BreadcrumbItem>\n            <BreadcrumbItem>{{ currentPage }}</BreadcrumbItem>\n          </Breadcrumb>\n          <Input style=\"width:150px;\" v-model=\"searchKey\" placeholder=\"请输入关键词\" @on-keyup.enter=\"goSearch\">\n            <Icon type=\"ios-search\" slot=\"suffix\" class=\"search-btn\" @click=\"goSearch\"/>\n          </Input>\n        </div>\n        <Card>\n          <div style=\"min-height: calc(100vh - 230px);\">\n            <router-view :key=\"$route.fullPath\" @on-clear-search-key=\"clearSearchKey\"/>\n          </div>\n        </Card>\n      </Content>\n      <Footer class=\"layout-footer-center\">wordance &copy; more than you know</Footer>\n    </Layout>\n    <Modal\n        v-model=\"helpModal\"\n        title=\"帮助文档\"\n        @on-ok=\"okModal\"\n        :scollable=\"true\"\n        @on-cancel=\"cancelModal\">\n        <p>- 首页词云为各类型数据聚合。</p>\n        <p>- 点击词云里的词语可进入关键词搜索页。</p>\n        <p>- 右上角输入框中可以输入词语进行搜索，也可以进入关键词搜索页，效果和点词云的词语进入的情况一样。</p>\n        <p>- 关键词搜索页可以看关键词关联的词形成的力导图，同时可以看选中点对应的详细信息。</p>\n        <div slot=\"footer\">\n          <Button type=\"primary\">确定</Button>\n        </div>\n    </Modal>\n  </div>\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      helpModal: false,\n      searchKey: ''\n    }\n  },\n  mounted () {\n    this.searchKey = this.$route.query.key\n  },\n  methods: {\n    okModal () {\n      this.helpModal = false\n    },\n    cancelModal () {\n      this.helpModal = false\n    },\n    goSearch () {\n      if (!this.searchKey) {\n        this.$Message.error('请输入搜索的关键词')\n        return false\n      }\n      this.$router.push({\n        path: '/searchPage',\n        query: {\n          key: this.searchKey\n        }\n      })\n    },\n    clearSearchKey () {\n      this.searchKey = ''\n    }\n  },\n  computed: {\n    currentPage () {\n      let res = ''\n      switch (this.$route.path) {\n        case '/':\n          res = '首页'\n          break\n        case '/searchPage':\n          res = '关键词搜索'\n          break\n      }\n      return res\n    },\n    searchActive () {\n      return this.$route.path.includes('/searchPage')\n    }\n  }\n}\n</script>\n<style scoped>\n.layout {\n  border: 1px solid #d7dde4;\n  background: #f5f7f9;\n  position: relative;\n  border-radius: 4px;\n  overflow: hidden;\n}\n.layout-logo {\n  float: left;\n  position: relative;\n}\n.layout-nav {\n  float: right;\n  overflow: hidden;\n}\n.layout-footer-center {\n  text-align: center;\n}\n.help-btn, .search-btn {\n  cursor: pointer;\n}\n.flex-box {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.layout >>> .ivu-menu-item a {\n  color: rgba(255,255,255,.7) !important;\n  display: block;\n}\n.layout >>> .ivu-menu-dark.ivu-menu-horizontal .ivu-menu-item-active {\n  color: rgba(255,255,255,.7) !important;\n}\n.layout >>> .ivu-menu-item a.router-link-exact-active {\n  color: rgba(255,255,255) !important;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <div class=\"home\">\n    <div class=\"tags\"></div>\n    <Carousel class=\"carousel\" v-model=\"carousel\" loop autoplay :autoplay-speed=\"5000\">\n      <CarouselItem v-for=\"(item, index) in groupList\" :key=\"index\">\n        <div :class=\"`svg-${index}`\" class=\"svg\"></div>\n      </CarouselItem>\n    </Carousel>\n    <Spin size=\"large\" fix v-if=\"spinShow\"></Spin>\n  </div>\n</template>\n\n<script>\nimport * as d3 from 'd3'\nimport cloud from 'd3-cloud'\nexport default {\n  name: 'home',\n  data () {\n    return {\n      carousel: 0,\n      groupList: [],\n      initData: [],\n      nodesObj: {},\n      spinShow: true\n    }\n  },\n  watch: {\n    'carousel': {\n      handler: function (val, oldVal) {\n        if (val !== oldVal) {\n          this.drawRect()\n        }\n      },\n      deep: true\n    }\n  },\n  mounted () {\n    this.$emit('on-clear-search-key')\n    this.$axios('http://localhost:31000/getAllInfo').then(res => {\n      console.log(res)\n      this.initData = res.data\n      res.data.forEach((item, index) => {\n        this.nodesObj[item.id] = item\n      })\n      let objRect = {}\n      this.groupList = res.data.map((d, index) => {\n        if (objRect.hasOwnProperty(d.group)) {\n          return -1\n        } else {\n          objRect[d.group] = 1\n          return d.group\n        }\n      }).filter((value) => value !== -1)\n      this.$nextTick(() => {\n        this.drawInit()\n      })\n    })\n    // d3.json('https://gist.githubusercontent.com/mbostock/4062045/raw/5916d145c8c048a6e3086915a6be464467391c62/miserables.json').then((res) => {\n\n    // })\n  },\n  methods: {\n    drawInit () {\n      this.drawRect()\n      this.groupList.forEach((item, index) => {\n        this.drawWords(item, index)\n      })\n    },\n    drawRect () {\n      d3.select('.tags').select('svg').remove()\n      let svg = d3.select('.tags').append('svg')\n      let _self_ = this\n      svg.attr('height', 50).attr('width', `${this.groupList.length * 80}`)\n      svg.append('g')\n        .attr('class', 'labels')\n        .attr('stroke', '#fff')\n        .attr('stroke-width', 1.5)\n        .selectAll('g')\n        .data(_self_.groupList)\n        .join('g')\n        .attr('transform', function (d, i) { return `translate(${i * 70}, ${0})` })\n        .style('cursor', 'pointer')\n        .on('mouseenter', function (d, i) {\n          if (_self_.carousel !== i) {\n            _self_.carousel = i\n          }\n        })\n      svg\n        .select('.labels')\n        .selectAll('g')\n        .append('rect')\n        .attr('width', 70)\n        .attr('height', 40)\n        .attr('rx', 10)\n        .attr('ry', 10)\n        .attr('fill', function (d, i) {\n          if (i === _self_.carousel) {\n            return _self_.scale[d]\n          } else {\n            return '#ddd'\n          }\n        })\n      svg.select('.labels')\n        .selectAll('g')\n        .append('text')\n        .text(function (d) {\n          return _self_.labelsObj[d]\n        })\n        .attr('fill', '#333')\n        .attr('stroke', '#fff')\n        .attr('stroke-width', 0)\n        .style('font-size', function (d) {\n          return `${16}px`\n        })\n        .style('background', 'transparent')\n        .style('color', '#333')\n        .style('font-family', 'Impact')\n        .attr('text-anchor', 'middle')\n        .attr('transform', `translate(${35}, ${25})`)\n    },\n    drawWords (currentItem, currentIndex) {\n      const width = 1000\n      const height = 500\n\n      let _self_ = this\n\n      let colorWords = d3.scaleOrdinal(d3.schemeCategory10)\n\n      let dataCurrent = this.initData.filter((item, index) => {\n        return item.group === currentItem\n      }).map((item, index) => {\n        return {\n          id: item.id,\n          size: item.size\n        }\n      })\n      let sizes = dataCurrent.map((item) => {\n        return item.size\n      })\n      let maxSize = Math.max.apply(null, sizes)\n      let minSize = Math.min.apply(null, sizes)\n      console.log(dataCurrent)\n      let svg = d3.select(`.svg-${currentIndex}`).append('svg')\n      svg.attr('width', width).attr('height', height)\n\n      let words = dataCurrent.map(function (d) {\n        return { text: d.id, size: 10 + (d.size - minSize) * 90 / (maxSize - minSize) }\n      })\n\n      let layoutWords = cloud()\n        .size([width, height])\n        .words(words)\n        .padding(5)\n        .rotate(function () {\n          return Math.random() * 45\n        })\n        .font('Impact')\n        .fontSize(function (d) {\n          return d.size\n        })\n        .on('end', function () {\n          _self_.draw(svg, words, this, colorWords)\n          if (currentIndex === _self_.groupList.length - 1) {\n            _self_.spinShow = false\n          }\n        })\n\n      layoutWords.start()\n    },\n    draw (svg, words, layoutWords, colorWords) {\n      svg\n        .append('g')\n        .attr('transform', `translate(${layoutWords.size()[0] / 2},${layoutWords.size()[1] / 2})`)\n        .selectAll('text')\n        .data(words)\n        .enter()\n        .append('text')\n        .attr('fill', (_, i) => colorWords(i))\n        .style('font-size', function (d) {\n          return `${d.size}px`\n        })\n        .style('font-family', 'Impact')\n        .style('cursor', 'pointer')\n        .attr('text-anchor', 'middle')\n        .attr('transform', function (d) {\n          return `translate(${[d.x, d.y]})rotate(${d.rotate})`\n        })\n        .text(function (d) {\n          return d.text\n        })\n        .on('click', function (d, i) {\n          window.open('http://www.baidu.com')\n        })\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.svg {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.tags {\n  overflow: auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('div',{staticClass:\"tags\"}),_vm._v(\" \"),_c('Carousel',{staticClass:\"carousel\",attrs:{\"loop\":\"\",\"autoplay\":\"\",\"autoplay-speed\":5000},model:{value:(_vm.carousel),callback:function ($$v) {_vm.carousel=$$v},expression:\"carousel\"}},_vm._l((_vm.groupList),function(item,index){return _c('CarouselItem',{key:index},[_c('div',{staticClass:\"svg\",class:(\"svg-\" + index)})])}),1),_vm._v(\" \"),(_vm.spinShow)?_c('Spin',{attrs:{\"size\":\"large\",\"fix\":\"\"}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8972b114\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8972b114\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8972b114\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8972b114\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Home.vue\n// module id = null\n// module chunks = ","<template>\n<div>\n  <div class=\"search content\">\n    <div class=\"left\"></div>\n    <div class=\"right\">点击左侧点出现点的具体信息</div>\n  </div>\n  <Spin size=\"large\" fix v-if=\"spinShow\"></Spin>\n</div>\n</template>\n\n<script>\nimport * as d3 from 'd3'\nexport default {\n  name: 'search',\n  data () {\n    return {\n      initData: [],\n      nodesObj: {},\n      height: 600,\n      width: 600,\n      spinShow: false\n    }\n  },\n  mounted () {\n    if (this.$route.query.key) {\n      this.spinShow = true\n      this.getConnectedWords(this.$route.query.key)\n    } else {\n      this.$Message.info('请在搜索框输入关键词进行搜索')\n    }\n  },\n  methods: {\n    getConnectedWords (keyword) {\n      this.$axios.get(`http://localhost:31000/getNodesByKeyword?keyword=${keyword}`).then(res => {\n        this.initData = res.data\n        this.drawInit(res.data)\n        res.data.nodes.forEach((item, index) => {\n          this.nodesObj[item.id] = item\n        })\n      })\n    },\n    drawInit (data) {\n      this.draw(data, true)\n      this.drawRect(data)\n    },\n    drag (simulation) {\n      function dragstarted (d) {\n        if (!d3.event.active) simulation.alphaTarget(0.3).restart()\n        d.fx = d.x\n        d.fy = d.y\n      }\n      function dragged (d) {\n        d.fx = d3.event.x\n        d.fy = d3.event.y\n      }\n      function dragended (d) {\n        if (!d3.event.active) simulation.alphaTarget(0)\n        d.fx = null\n        d.fy = null\n      }\n      return d3.drag()\n        .on('start', dragstarted)\n        .on('drag', dragged)\n        .on('end', dragended)\n    },\n    draw (data, first) {\n      this.spinShow = true\n      let links = data.links\n      let nodes = data.nodes\n      let _self_ = this\n      const simulation = d3.forceSimulation(nodes)\n        .force('link', d3.forceLink(links).id(d => d.id))\n        .force('charge', d3.forceManyBody())\n        .force('center', d3.forceCenter(this.width / 2, this.height / 2))\n      let svg\n      if (first) {\n        svg = d3.select('.left').append('svg')\n      } else {\n        svg = d3.select('svg')\n      }\n      svg.attr('viewBox', [0, 0, this.width, this.height])\n      const link = svg.append('g')\n        .attr('class', 'links')\n        .attr('stroke', '#999')\n        .attr('stroke-opacity', 0.6)\n        .selectAll('line')\n        .data(links)\n        .join('line')\n        .attr('stroke-width', d => 1) // 后续再看value怎么算\n      const node = svg.append('g')\n        .attr('class', 'nodes')\n        .attr('stroke', '#fff')\n        .attr('stroke-width', 1.5)\n        .selectAll('circle')\n        .data(nodes)\n        .join('circle')\n        .attr('r', 5)\n        .attr('fill', function (d) {\n          return _self_.scale[d.group]\n        })\n        .on('click', function (d) {\n          document.querySelector('.right').innerHTML = `<span style='color: ${_self_.scale[d.group]}'>[${d.group}][${d.index}-${d.id}]${JSON.stringify(d)}</span>`\n        })\n        .call(this.drag(simulation))\n      node.append('title')\n        .text(d => d.id)\n      simulation.on('tick', () => {\n        link\n          .attr('x1', d => d.source.x)\n          .attr('y1', d => d.source.y)\n          .attr('x2', d => d.target.x)\n          .attr('y2', d => d.target.y)\n        node\n          .attr('cx', d => d.x)\n          .attr('cy', d => d.y)\n      })\n      this.spinShow = false\n    },\n    drawRect (data) {\n      let _self_ = this\n      let objRect = {}\n\n      const rectNodes = data.nodes.map((d, index) => {\n        if (objRect.hasOwnProperty(d.group)) {\n          return -1\n        } else {\n          objRect[d.group] = 1\n          return d.group\n        }\n      }).filter((value) => value !== -1)\n\n      const svg = d3.select('svg')\n\n      svg.append('g')\n        .attr('class', 'labels')\n        .attr('stroke', '#fff')\n        .attr('stroke-width', 1.5)\n        .selectAll('g')\n        .data(rectNodes)\n        .join('g')\n        .attr('transform', function (d, i) {\n          return `translate(${10}, ${i * 30})`\n        })\n        .style('cursor', 'pointer')\n        .on('click', function (d, i) {\n          if (objRect[d] === 1) { // 此时为选中状态\n            d3.select(this).select('rect').style('fill', '#ddd')\n            d3.select(this).select('text').style('fill', '#333')\n            objRect[d] = -1\n            let currentNodes = rectNodes.filter((item, index) => {\n              return objRect[item] === 1\n            })\n            let data = _self_.initData.nodes.filter((item, index) => {\n              return currentNodes.indexOf(item.group) !== -1\n            })\n            let links = _self_.initData.links.filter((item, index) => {\n              return currentNodes.indexOf(_self_.nodesObj[item.source.id].group) !== -1 && currentNodes.indexOf(_self_.nodesObj[item.target.id].group) !== -1\n            })\n\n            d3.select('.links').remove()\n            d3.select('.nodes').remove()\n\n            _self_.draw({ links: links, nodes: data })\n          } else {\n            objRect[d] = 1\n            d3.select(this).select('rect').style('fill', _self_.scale[d])\n            d3.select(this).select('text').style('fill', '#fff')\n            let currentNodes = rectNodes.filter((item, index) => {\n              return objRect[item] === 1\n            })\n            let data = _self_.initData.nodes.filter((item, index) => {\n              return currentNodes.indexOf(item.group) !== -1\n            })\n            let links = _self_.initData.links.filter((item, index) => {\n              return currentNodes.indexOf(_self_.nodesObj[item.source.id].group) !== -1 && currentNodes.indexOf(_self_.nodesObj[item.target.id].group) !== -1\n            })\n            d3.select('.links').remove()\n            d3.select('.nodes').remove()\n            _self_.draw({ links: links, nodes: data })\n          }\n        })\n\n      svg\n        .select('.labels')\n        .selectAll('g')\n        .append('rect')\n        .attr('width', 30)\n        .attr('height', 15)\n        .attr('rx', 3)\n        .attr('ry', 3)\n        .attr('fill', function (d) {\n          return _self_.scale[d]\n        })\n\n      svg.select('.labels')\n        .selectAll('g')\n        .append('text')\n        .text(function (d) {\n          return _self_.labelsObj[d]\n        })\n        .attr('stroke-width', 0)\n        .style('font-size', function (d) {\n          return `${10}px`\n        })\n        .style('background', 'transparent')\n        .style('fill', '#fff')\n        .style('font-family', 'Impact')\n        .attr('text-anchor', 'middle')\n        .attr('transform', `translate(${15}, ${11})`)\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.content {\n  display: flex;\n}\n.left {\n  width: 50%\n}\n.right {\n  width: 50%;\n  overflow: visible;\n  word-break: break-word;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_vm._v(\" \"),(_vm.spinShow)?_c('Spin',{attrs:{\"size\":\"large\",\"fix\":\"\"}}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search content\"},[_c('div',{staticClass:\"left\"}),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_vm._v(\"点击左侧点出现点的具体信息\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7b2026f8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b2026f8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Search.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b2026f8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7b2026f8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Search.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Home from '@/views/Home'\nimport Search from '@/views/Search'\n\nVue.use(Router)\n\nexport default new Router({\n  linkActiveClass: 'link-active',\n  routes: [\n    {\n      path: '/',\n      name: 'Home',\n      component: Home\n    }, {\n      path: '/searchPage',\n      name: 'Search',\n      component: Search\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport axios from 'axios'\nimport iView from 'iview'\nimport 'iview/dist/styles/iview.css'\nVue.use(iView)\n\nVue.prototype.$axios = axios\n\nVue.config.productionTip = false\n\nlet color = {\n  'civilization': '#ff7f0e',\n  'economy': '#2ca02c',\n  'education': '#d62728',\n  'military': '#9467bd',\n  'polity': '#1f77b4',\n  'society': '#e377c2',\n  'sports': '#7f7f7f',\n  'other': '#bcbd22',\n  8: '#17becf',\n  9: '#1f77b4'\n}\nlet labels = {\n  'civilization': '人文',\n  'economy': '经济',\n  'education': '教育',\n  'military': '军事',\n  'polity': '政治',\n  'society': '社会',\n  'sports': '体育',\n  'other': '其他'\n}\nVue.prototype.scale = color\nVue.prototype.labelsObj = labels\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}